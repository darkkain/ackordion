window.ackordion=function(window){"use strict";function qs(expr,context){return(context||document).querySelector(expr)}function qsa(expr,context){return[].slice.call((context||document).querySelectorAll(expr),0)}function getAckordionTabPanel(element){for(var root=element;root;)if(root=root.parentElement,root&&"tabpanel"===root.getAttribute("role"))return root;return void 0}function getTransitionEndVendorPrefixNameAsString(){var t,el=document.createElement("div"),transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in transitions)if(void 0!==el.style[t])return transitions[t];return"transitionend"}function expand(element){function transitionEnd(event){"max-height"==event.propertyName&&("0px"!==element.style.maxHeight&&(element.classList.add("ackordion-fix-safari-bug"),setTimeout(function(){element.style.maxHeight="none",setTimeout(function(){element.classList.remove("ackordion-fix-safari-bug")},0)},0)),element.removeEventListener(transitionEndVendorPrefix,transitionEnd,!1))}if(element){element.style.maxHeight="none";var BCR=element.getBoundingClientRect();element.style.maxHeight="0px",ackordion.isTransitionEndDisabled||element.addEventListener(transitionEndVendorPrefix,transitionEnd,!1),element.offsetHeight,element.style.maxHeight=BCR.height+"px"}}function collapse(element){if(element){element.classList.add("ackordion-fix-safari-bug"),element.style.maxHeight="none";var BCR=element.getBoundingClientRect(),height=BCR.height;if(0===height)return void element.classList.remove("ackordion-fix-safari-bug");element.style.maxHeight=height+"px",element.offsetHeight,element.classList.remove("ackordion-fix-safari-bug"),setTimeout(function(){element.style.maxHeight="0px"},0)}}function toggle(element){if(element){var tabpanel=getAckordionTabPanel(element),root=tabpanel.parentNode,id=root.getAttribute("id"),accordion=accordions[id];tabpanel.classList.toggle(cssClassActive);var section=qs("section",tabpanel),content=section.firstElementChild;if(accordion&&accordion.autoClosePrevious&&accordion.previous&&tabpanel!==accordion.previous&&accordion.previous.classList.contains(cssClassActive)){var previousContent=qs("section > div",accordion.previous);collapse(previousContent),accordion.previous.classList.remove(cssClassActive),accordion.previous.removeAttribute("aria-expanded")}tabpanel.classList.contains(cssClassActive)?(tabpanel.setAttribute("aria-expanded","true"),expand(content)):(tabpanel.removeAttribute("aria-expanded"),collapse(content)),accordion&&(accordions[id].previous=tabpanel)}}function clearPrevious(id){if(id){var accordion=accordions[id];if(accordion)return accordions[id].previous=void 0,!0}return!1}function destroy(id){if(!id)return!1;var accordion=accordions[id];return accordion?(accordion=void 0,!0):!1}function destroyAll(){Object.keys(accordions).forEach(function(id){accordions[id]=void 0}),accordions={}}function init(config){new Accordion(config)}var document=window.document,console=window.console,log=console.log.bind(console),error=console.error.bind(console),cssClassActive="ackordion--active",accordions={},transitionEndVendorPrefix=getTransitionEndVendorPrefixNameAsString(),Accordion=function(config){if(!config)return void error("ackordion error - you must provide a config");var self=this;if(self.root,self.contents=[],self.previous,self.transition,self.autoClosePrevious=!0,"string"==typeof config?(self.id=config,self.root=document.getElementById(config)):"object"==typeof config&&(self.id=config.id,self.root=document.getElementById(config.id)),!self.root)return void error("ackordion error - component not found in html with id: "+self.id);self.contents=qsa("section > div",self.root),"object"==typeof config&&(self.transition=config.transition||"",self.duration=config.duration||"",config.autoClosePrevious===!1&&(self.autoClosePrevious=!1)),self.transition&&self.contents.forEach(function(content){content.style.transition=self.transition}),self.duration&&self.contents.forEach(function(content){content.style.transitionDuration=config.duration});var id=self.root.getAttribute("id");id&&(accordions[id]&&log("ackordion warning - this id has already been init "+id),accordions[id]=self)};return{toggle:toggle,init:init,clearPrevious:clearPrevious,isTransitionEndDisabled:!1,destroy:destroy,destroyAll:destroyAll}}(window,void 0);